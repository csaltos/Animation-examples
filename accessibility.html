<!doctype html>
<head>
    <title>Web Animation examples - Accessibility</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles.css" type="text/css">

    <style>
    .contact-selector li {
        list-style-type: none;
        display: inline-block;
    }
    .contact-selector ul {
        padding-left: 0;
        font-size: 0;
    }
    .avatar {
        background: #ccc;
        font-size: 1.2rem;
        display: inline-block;
        border-radius: 100%;
        border: 0;
        width: 50px;
        height: 50px;
        margin: 0 0.5em;
        padding: 0;
    }

    .avatar.selected {
        background: #31ffd5;
        color: #000;
    }

    .avatar:hover {
        background: #000;
        color: #fff;
        cursor: pointer;
    }

    input[type=range] {
        vertical-align: bottom;
    }
    </style>
</head>
<body>
    <nav class="contact-selector"><ul>
        <li><button class="avatar selected">JS</button></li>
        <li><button class="avatar">DT</button></li>
        <li><button class="avatar">TL</button></li>
    </ul></nav>
    <aside>
        <h1>Accessibility options</h1>
        <form>
            <p><label><input type="checkbox" checked id="settings-flash">Flash animations</label></p>
            <p><label>Size variation <input type="range" min="100" max="300" value="125" id="settings-size"></label></p>
        </form>
    </aside>
    <a href="https://jsfiddle.net/k6jy6L98/1/">https://jsfiddle.net/k6jy6L98/1/</a>

<script>
window.onload = function () {
    var settingsFlashEl = document.getElementById('settings-flash');
    var settingsSizeEl = document.getElementById('settings-size');

    Array.from(document.querySelectorAll('.avatar')).forEach(function (avatar) {
        // play flash animation when clicking on avatars
        avatar.addEventListener('click', function (e) {
            e.preventDefault();
            if (settingsFlashEl.checked) { // only play if setting is enabled
                avatar.animate([
                    { background: '#000' },
                    { background: '#31ffd5'},
                    { background: '#000'},
                    { background: '#31ffd5'},
                    { background: '#000'}
                ], 500);
            }
            // TODO: code button action here
        });
    });

    Array.from(document.querySelectorAll('.avatar')).forEach(function (avatar) {
        avatar.addEventListener('mouseover', function (e) {
            let targetScale = settingsSizeEl.value / 100.0;
            avatar.style.transform = `scale(${targetScale})`;
            avatar.style['z-index'] = 10;
            avatar.animate({
                transform: ['scale(1)', `scale(${targetScale})`]
            }, 250);
        });
        avatar.addEventListener('mouseout', function (e) {
            avatar.style.transform = 'scale(1)';
            avatar.style['z-index'] = 1;
        });
    });
}
</script>
</body>
